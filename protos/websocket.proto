syntax = "proto3";


message WebsocketClient {
    message HistoryCommand {
        string test = 1;
    }

    HistoryCommand history = 1;
}

enum WebsocketEvent {
    ERROR = 0;
}

enum WebsocketErrorType {
    NO_GAME = 0;
    NO_COMMAND = 1;
}

message WebsocketError {
    WebsocketErrorType type = 1;
    optional string message = 2;
}

message WebsocketServer {
    message HistoryEvents {
        message UserJoined {
            uint32 vkId = 1;
        }

        message UserLeaved {
            uint32 vkId = 1;
        }

        message LobbyInfo {
            repeated uint32 vkIds =  1;
        }
        
        UserJoined userJoined = 1;
        UserLeaved userLeaved = 2;
        LobbyInfo lobbyInfo = 3;
    }

    HistoryEvents history = 1;
}
